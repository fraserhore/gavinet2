<link rel="import" href="/polymer/bower_components/polymer-redux/polymer-redux.html">

<script>
    const initialState = {
        friends: ['Rod', 'Shelby'],
        overrides: []
    };

    const reducer = (state, action) => {
        if(!state) return initialState;
        switch (action.type) {
            case 'ADD_FRIEND' : 
                const friends = state.friends.slice(0);
                friends.push(action.friend);
                return Object.assign({}, state, {friends: friends});

            case 'LOAD_NODE_DATA' :
                return Object.assign({}, state, {nodeData: action.nodeData});

            case 'LOAD_OVERRIDES' :
                return Object.assign({}, state, {overrides: action.overrides});

            case 'LOAD_CHILDREN' :
                return Object.assign({}, state, {children: action.children});

            case 'UPDATE_VERSION_NAME' :
                return Object.assign({}, state, {versionName: action.versionName});
        }
    };

    const store = Redux.createStore(reducer);
    const ReduxBehavior = PolymerRedux(store);

</script>