<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="/polymer/bower_components/polymer/polymer.html">

<dom-module id="main-app">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
    


    <paper-toast id="toast">
      <span class="toast-hide-button" role="button" tabindex="0" onclick="app.$.toast.hide()">Ok</span>
    </paper-toast>

    <!-- Uncomment next block to enable Service Worker support (1/2) -->
    <!--
    <paper-toast id="caching-complete"
                 duration="6000"
                 text="Caching complete! This app will work offline.">
    </paper-toast>

    <platinum-sw-register auto-register
                          clients-claim
                          skip-waiting
                          base-uri="/polymer-starter-kit/app/bower_components/platinum-sw/bootstrap"
                          on-service-worker-installed="displayInstalledToast">
      <platinum-sw-cache default-cache-strategy="fastest"
                         cache-config-file="cache-config.json">
      </platinum-sw-cache>
    </platinum-sw-register>
    -->
    
  </template>
  <script>
  (function() {
    'use strict';

    Polymer({
      is: 'main-app',

      properties: {
        identityNode: {
          type: Object,
          value: function() { return {}; },
          notify: true
        },
        versionNode: {
          type: Object,
          value: function() { return {}; },
          notify: true
        }
      },

      children: function(event) {
        console.log('test');
        console.log(event);
      },

      clickHandler: function(event) {
        event.target.parentElement.submit();
        this.$.getChildren.generateRequest();
        this.$.newDialog.close();
        console.log(this.$.getChildren);
      },

      openDialog: function(event) {
        var button = event.target;
        while (!button.hasAttribute('data-dialog') && button !== document.body) {
          button = button.parentElement;
        }
        if (!button.hasAttribute('data-dialog')) {
          return;
        }
        var id = button.getAttribute('data-dialog');
        var dialog = document.getElementById(id);
        if (dialog) {
          dialog.open();
        }
      },

      responseTest: function(event) {
        console.log(event);
      }

    });
  })();
  </script>
</dom-module>
